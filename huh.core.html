<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>huh.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Huh 0.9.3 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>huh</span></div></div></li><li class="depth-2 current"><a href="huh.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="huh.core.html#var-after-event"><div class="inner"><span>after-event</span></div></a></li><li class="depth-1"><a href="huh.core.html#var-containing"><div class="inner"><span>containing</span></div></a></li><li class="depth-1"><a href="huh.core.html#var-get-state"><div class="inner"><span>get-state</span></div></a></li><li class="depth-1"><a href="huh.core.html#var-in"><div class="inner"><span>in</span></div></a></li><li class="depth-1"><a href="huh.core.html#var-IRendered"><div class="inner"><span>IRendered</span></div></a></li><li class="depth-2 branch"><a href="huh.core.html#var-get-props"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-props</span></div></a></li><li class="depth-2 branch"><a href="huh.core.html#var-get-node"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-node</span></div></a></li><li class="depth-2 branch"><a href="huh.core.html#var-get-rendered"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-rendered</span></div></a></li><li class="depth-2"><a href="huh.core.html#var-get-component"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-component</span></div></a></li><li class="depth-1"><a href="huh.core.html#var-rendered"><div class="inner"><span>rendered</span></div></a></li><li class="depth-1"><a href="huh.core.html#var-rendered-component"><div class="inner"><span>rendered-component</span></div></a></li><li class="depth-1"><a href="huh.core.html#var-setup-state"><div class="inner"><span>setup-state</span></div></a></li><li class="depth-1"><a href="huh.core.html#var-sub-component"><div class="inner"><span>sub-component</span></div></a></li><li class="depth-1"><a href="huh.core.html#var-tag"><div class="inner"><span>tag</span></div></a></li><li class="depth-1"><a href="huh.core.html#var-with-attr"><div class="inner"><span>with-attr</span></div></a></li><li class="depth-1"><a href="huh.core.html#var-with-class"><div class="inner"><span>with-class</span></div></a></li><li class="depth-1"><a href="huh.core.html#var-with-prop"><div class="inner"><span>with-prop</span></div></a></li><li class="depth-1"><a href="huh.core.html#var-with-rendered"><div class="inner"><span>with-rendered</span></div></a></li><li class="depth-1"><a href="huh.core.html#var-with-text"><div class="inner"><span>with-text</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">huh.core</h2><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-after-event"><h3>after-event</h3><div class="usage"><code>(after-event event-attr event-arg dom-node callback)</code></div><div class="doc"><div class="markdown"><p>Simulates an event against a DOM element, and then invokes the callback function, to test that stateful components handle events correctly.</p><p>This is generally combined with <code>rendered-component</code> and <code>in</code> to select the DOM element, and the callback function will execute assertions to test that the component handled the event correctly.</p></div></div><div class="src-link"><a href="http://github.com/spiralman/huh/blob/master/src/huh/core.cljs#L367">view source</a></div></div><div class="public anchor" id="var-containing"><h3>containing</h3><div class="usage"><code>(containing &amp; tests)</code></div><div class="doc"><div class="markdown"><p>Asserts that the component contains the given children. The number of predicates must exactly match the number of children, or the assertion will fail.</p><p>Normally, each predicate will be a <code>tag</code>, containing optional additional tests against that child element:</p>
<pre><code>(containing
 (tag &quot;DIV&quot;
      (with-class &quot;first-child&quot;))
 (tag &quot;SPAN&quot;
      (with-class &quot;second-child&quot;)))
</code></pre></div></div><div class="src-link"><a href="http://github.com/spiralman/huh/blob/master/src/huh/core.cljs#L227">view source</a></div></div><div class="public anchor" id="var-get-state"><h3>get-state</h3><div class="usage"><code>(get-state rendered)</code><code>(get-state rendered korks)</code></div><div class="doc"><div class="markdown"><p>Accesses the state of a rendered Om component. If <code>korks</code> is specified, it returns the value in the state at that key, as by <code>get-in</code>. May only be called on a component returned by <code>rendered-component</code>.</p></div></div><div class="src-link"><a href="http://github.com/spiralman/huh/blob/master/src/huh/core.cljs#L22">view source</a></div></div><div class="public anchor" id="var-in"><h3>in</h3><div class="usage"><code>(in component)</code><code>(in component selector)</code></div><div class="doc"><div class="markdown"><p>Returns the first DOM element within a given component that matches the selector.</p><p>If the selector is empty or not provided, it returns the root DOM node of the component.</p></div></div><div class="src-link"><a href="http://github.com/spiralman/huh/blob/master/src/huh/core.cljs#L172">view source</a></div></div><div class="public anchor" id="var-IRendered"><h3>IRendered</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-get-props"><h3>get-props</h3><div class="usage"><code>(get-props c)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-get-node"><h3>get-node</h3><div class="usage"><code>(get-node c)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-get-rendered"><h3>get-rendered</h3><div class="usage"><code>(get-rendered c)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-get-component"><h3>get-component</h3><div class="usage"><code>(get-component c)</code></div><div class="doc"><div class="markdown"></div></div></div></div></div><div class="src-link"><a href="http://github.com/spiralman/huh/blob/master/src/huh/core.cljs#L13">view source</a></div></div><div class="public anchor" id="var-rendered"><h3>rendered</h3><div class="usage"><code>(rendered component value &amp; tests)</code></div><div class="doc"><div class="markdown"><p>Renders a component using the provided data (and an optional <code>m</code>  value) and then runs assertions against that component.</p><p>Normally, this is used inside the <code>is</code> macro in <code>clojurescript.test</code>:</p>
<pre><code>(is (rendered component {:state &quot;value&quot;}
              (tag &quot;DIV&quot;)))
</code></pre></div></div><div class="src-link"><a href="http://github.com/spiralman/huh/blob/master/src/huh/core.cljs#L136">view source</a></div></div><div class="public anchor" id="var-rendered-component"><h3>rendered-component</h3><div class="usage"><code>(rendered-component component state)</code><code>(rendered-component component state m)</code></div><div class="doc"><div class="markdown"><p>Renders a component into the DOM and returns it, but does not run assertions against it. Useful for testing stateful components.</p></div></div><div class="src-link"><a href="http://github.com/spiralman/huh/blob/master/src/huh/core.cljs#L102">view source</a></div></div><div class="public anchor" id="var-setup-state"><h3>setup-state</h3><div class="usage"><code>(setup-state value)</code></div><div class="doc"><div class="markdown"><p>Builds an Om state object from a raw ClojureScript data structure, or an atom containing a data structure. State passed to <code>rendered-component</code> should be built using this function.</p></div></div><div class="src-link"><a href="http://github.com/spiralman/huh/blob/master/src/huh/core.cljs#L82">view source</a></div></div><div class="public anchor" id="var-sub-component"><h3>sub-component</h3><div class="usage"><code>(sub-component expected-component cursor)</code><code>(sub-component expected-component cursor m)</code></div><div class="doc"><div class="markdown"><p>Asserts that another Om component was rendered within the component being tested.</p><p>When rendering with <code>rendered</code> or <code>rendered-component</code>, Huh prevents sub-components (as built via <code>om/build</code> or <code>om/build-all</code>) from actually being built. Instead, this predicate may be used to assert that the correct sub-component was built, using the correct cursor and options.</p><p><code>expected-component</code> should be the function defining the component, and <code>cursor</code> should be a raw ClojureScript data structure describing the <em>contents</em> of the cursor passed to the sub-component</p></div></div><div class="src-link"><a href="http://github.com/spiralman/huh/blob/master/src/huh/core.cljs#L293">view source</a></div></div><div class="public anchor" id="var-tag"><h3>tag</h3><div class="usage"><code>(tag expected-tag &amp; tests)</code></div><div class="doc"><div class="markdown"><p>Asserts that a component or element is rendered as a particular DOM element, by tag, and runs an additional assertions against that component. Tag names are case insensitive.</p></div></div><div class="src-link"><a href="http://github.com/spiralman/huh/blob/master/src/huh/core.cljs#L194">view source</a></div></div><div class="public anchor" id="var-with-attr"><h3>with-attr</h3><div class="usage"><code>(with-attr attr-name attr-value)</code></div><div class="doc"><div class="markdown"><p>Asserts that a DOM element has a given attribute with a given value</p></div></div><div class="src-link"><a href="http://github.com/spiralman/huh/blob/master/src/huh/core.cljs#L351">view source</a></div></div><div class="public anchor" id="var-with-class"><h3>with-class</h3><div class="usage"><code>(with-class class-name)</code></div><div class="doc"><div class="markdown"><p>Asserts that the DOM node was given a particular CSS class.</p><p>Uses the <code>classList</code> property, so can be specified multiple times to  test for multiple classes.</p></div></div><div class="src-link"><a href="http://github.com/spiralman/huh/blob/master/src/huh/core.cljs#L334">view source</a></div></div><div class="public anchor" id="var-with-prop"><h3>with-prop</h3><div class="usage"><code>(with-prop prop-name expected-value)</code></div><div class="doc"><div class="markdown"><p>Asserts that a component has a prop with a particular value. This is useful for asserting things about &ldquo;bound&rdquo; attributes, such as the <code>value</code> of an input element.</p></div></div><div class="src-link"><a href="http://github.com/spiralman/huh/blob/master/src/huh/core.cljs#L263">view source</a></div></div><div class="public anchor" id="var-with-rendered"><h3>with-rendered</h3><h4 class="type">macro</h4><div class="usage"><code>(with-rendered params assertion)</code></div><div class="doc"><div class="markdown"><p>Binds the values specified via <code>params</code>, and then runs the assertion, passing the first parameter.</p><p>This can be used within <code>rendered</code> to gain access to the rendered component, if it needs to be accessed inside the assertions.</p></div></div><div class="src-link"><a href="http://github.com/spiralman/huh/blob/master/src/huh/core.clj#L15">view source</a></div></div><div class="public anchor" id="var-with-text"><h3>with-text</h3><div class="usage"><code>(with-text text)</code></div><div class="doc"><div class="markdown"><p>Asserts that an element has the given text. Uses the <code>textContent</code> property of the DOM node to gather the text of all child elements</p></div></div><div class="src-link"><a href="http://github.com/spiralman/huh/blob/master/src/huh/core.cljs#L278">view source</a></div></div></div></body></html>